import requests
import sys


subdomain_file = sys.argv[1]

with open(subdomain_file) as opened:
    subdomains = opened.read()

linesplit = subdomains.splitlines()

for url in linesplit:
    with requests.get(url) as requesting:
        headers = requesting.headers
        if (
            "X-Cache"
            or "Cf-Cache-Status"
            or "Age"
            or "X-Drupal-Cache"
            or "X-Cache-Hits"
            or "X-Drupal-Dynamic-Cache"
            or "Cf-Ray"
            or "Vary"
            or "Strict-Transport-Security: max-age"
            or "Varnish"
            or "varnish"
            or "CloudFlare"
            or "Fastly" in headers
        ):
            print(f"{url} - May Be Cached\n")
